<ion-view>
    <ion-content class="padding messages">
        <div ng-show="!topic.id">
            <blockquote>
                <p>No topic selected.</p>
                <p>Please, select a <a href="#/tab/topics" class="positive">topic</a></p>
            </blockquote>
        </div>

        <div class="list" ng-show="topic.id">
            <div class="item item-divider item-text-wrap">
                <h2>{{ topic.title }}</h2>
                <p>{{ topic.description }}</p>
            </div>
            <a class="item item-avatar item-text-wrap" ng-repeat="message in messages">
                <img src="http://www.gravatar.com/avatar/{{ message.email | gravatar }}?size=60">
                <div>
                    <!-- TODO
                    <button type="button" class="close pull-right" ng-show="createdMessage(message)" ng-click="delete(message)">&times;</button> -->
                    <strong>{{ message.user }}</strong>
                    <small class="text-muted" am-time-ago="message.time"></small>
                </div>
                <p>{{ message.message }}</p>
            </a>
        </div>
    </ion-content>

    <form class="post-message" role="form" ng-submit="save(message)" >
        <ion-footer-bar class="bar-stable post-message">
            <input type="text" ng-model="message.message" placeholder="Post message..."
                   ng-show="message && user.name">
            <button type="submit" ng-disabled="!message.message"
                    ng-show="message && user.name"
                    class="button button-clear button-small button-positive icon-left ion-android-send"></button>
            <div>
                <blockquote ng-show="!user.name">
                    <p><a href="#/" class="positive">Username</a> required to post messages.</p>
                </blockquote>
            </div>
        </ion-footer-bar>
    </form>
</ion-view>
